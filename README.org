#+TITLE: org-mcp
#+AUTHOR: org-mcp contributors

* Overview

org-mcp is an Emacs package that implements a Model Context Protocol (MCP) server for Org-mode. It enables AI assistants and other MCP clients to interact with your Org files through a secure, structured API.

* Installation

TODO: Installation instructions

* Usage

** Registering with an MCP Client

After =mcp-server-lib= has been properly installed (including =M-x mcp-server-lib-install=), register =org-mcp= with your MCP client:

#+begin_src bash
claude mcp add -s user -t stdio org-mcp -- ~/.emacs.d/emacs-mcp-stdio.sh --init-function=org-mcp-enable --stop-function=org-mcp-disable
#+end_src

Before using the MCP server, you must start it in Emacs with =M-x mcp-server-lib-start=. Stop it with =M-x mcp-server-lib-stop= when done.

** Available MCP Tools

*** org-list-allowed-files
- *Description:* List all Org files that the server is configured to access
- *Parameters:* None
- *Returns:* Array of expanded absolute file paths from the allowed files whitelist

Example response:
#+begin_src json
[
  "/Users/username/org/projects.org",
  "/Users/username/org/todo.org",
  "/Users/username/org/notes.org"
]
#+end_src

Note: File paths are expanded using =expand-file-name=, which:
- Expands =~= to the home directory
- Resolves relative paths to absolute paths
- Normalizes =..= and =.= components
- Validates path syntax (invalid paths will cause an error)

*** org-get-todo-config
- *Description:* Get TODO keyword configuration for understanding task states
- *Parameters:* None
- *Returns:* JSON object with =sequences= and =semantics=

Example response:
#+begin_src json
{
  "sequences": [
    {
      "type": "sequence",
      "keywords": ["TODO", "NEXT", "|", "DONE", "CANCELLED"]
    }
  ],
  "semantics": [
    {"state": "TODO", "isFinal": false, "sequenceType": "sequence"},
    {"state": "NEXT", "isFinal": false, "sequenceType": "sequence"},
    {"state": "DONE", "isFinal": true, "sequenceType": "sequence"},
    {"state": "CANCELLED", "isFinal": true, "sequenceType": "sequence"}
  ]
}
#+end_src

* Contributing

TODO: Contribution guidelines

* License

GPLv3